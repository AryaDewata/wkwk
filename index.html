<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10fastfingers abal-abal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        body {
            background: rgb(223, 223, 223);
        }
        .text-q {
            background: rgb(214, 214, 255);
            border-radius: 2%;
            font-size: 30px;
            height: 250px;
            resize: none;
        }
        .input-group .form-control {
            font-size: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <center><h4 class="mt-5" id="waktu">1:00</h4></center>
        <div class="text-q"></div>
        <center><h4 class="mt-4" style="color: rgb(0, 182, 0);" id="complete_word">Klik input memulai!</h4></center>
        <div class="input-group input-group-lg mt-4">
            <input id="input_text" type="text" onfocus="start()" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg">
        </div>
    </div>
    <script>
        let jumlah_kata;
        if(window.innerWidth > 1344){
            jumlah_kata = 50;
        }else if(window.innerWidth >= 764){
            jumlah_kata = 25;
        }else {
            jumlah_kata = 17;
        }
        let word = [
            'untuk',
            'memberikan',
            'baru',
            'kepada',
            'waktu',
            'mengatakan',
            'jauh',
            'tapi',
            'dengan',
            'hingga',
            'sampai',
            'paling',
            'salah',
            'malam',
            'nama',
            'memberi',
            'seperti',
            'kenapa',
            'dia',
            'akan',
            'uang',
            'makanan',
            'minuman',
            'tidur',
            'ini',
            'sekali',
            'hal',
            'berbagai',
            'sini',
            'sekarang',
            'bersama',
            'jenis',
            'mudah',
            'ada',
            'orang',
            'telah',
            'diri',
            'tengah',
            'yang',
            'tak'
        ]
        function start(){
            document.querySelector('#waktu').innerHTML = '1:00';
            document.querySelector('#complete_word').innerHTML = '';
            let index = 0;
            let list = [];
            for(let i = 0; i <= jumlah_kata; i++){
                let kata = word[parseInt(Math.random() * word.length)];
                list.push(kata ? kata : '');
            }
            list = list.filter(e => e != '').map((e, i) => `<span class="kata-${i}">${e}</span>`);
            document.querySelector('.text-q').innerHTML = list.join(' ');
            let waktu = 59;
            let time_lapse = setInterval(() => {
                if(waktu >= 1){
                    document.querySelector('#waktu').innerHTML = waktu;
                    waktu--;
                }else {
                    document.querySelector('#waktu').innerHTML = 'waktu habis!';
                }
            }, 1000);
            document.querySelector('#input_text').addEventListener('input', function(){
                if(this.value == `${document.querySelector(`.kata-${index}`).innerHTML} `){
                    document.querySelector(`.kata-${index}`).style.color = 'rgb(0, 182, 0)';
                    document.querySelector(`.kata-${index}`).style.fontWeight = 'bold';
                    index++;
                    if(index == list.length){
                        document.querySelector('#complete_word').innerHTML = `COMPLETE!!!`;
                        clearInterval(time_lapse);
                    }
                }
                if([...this.value].includes(' ')){
                    this.value = '';
                }
            })
        }
    </script>
</body>
</html>